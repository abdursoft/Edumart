let calendar;var Draggable=FullCalendarInteraction.Draggable;let date_picker;var containerEl=document.getElementById("external-events"),checkbox=document.getElementById("drop-remove"),addEvent=document.getElementById("add-event"),editEvent=document.getElementById("edit-event"),addEventTitle=document.getElementById("addEventTitle"),editEventTitle=document.getElementById("editEventTitle"),date=new Date,day=date.getDate(),month=date.getMonth(),year=date.getFullYear();function initCalendar(){var e=$("#calendar").get(0);calendar=new FullCalendar.Calendar(e,{plugins:["interaction","dayGrid","timeGrid"],header:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},editable:!0,droppable:!0,navLinks:!0,eventLimit:!0,weekNumberCalculation:"ISO",displayEventEnd:!0,lazyFetching:!0,selectable:!0,eventMouseEnter:function(e){$(e.el).attr("id",e.event.id),$("#"+e.event.id).popover({template:'<div class="popover" role="tooltip"><div class="arrow"></div><h4 class="popover-header"></h4><div class="popover-body"></div></div>',title:e.event.title,content:e.event.extendedProps.description,placement:"top",html:!0}),$("#"+e.event.id).popover("show"),$(".popover .popover-header").css("color",$(e.el).css("background-color"))},eventMouseLeave:function(e){$("#"+e.event.id).popover("hide")},drop:function(e){checkbox.checked&&e.draggedEl.parentNode.removeChild(e.draggedEl)},views:{dayGridMonth:{eventLimit:3}},events:events(),select:function(e,t){addEvent.style.display="block",editEvent.style.display="none",addEventTitle.style.display="block",editEventTitle.style.display="none",clearModalForm(),$(".modal").modal("show")},eventClick:function(e){addEvent.style.display="none",editEvent.style.display="block",addEventTitle.style.display="none",editEventTitle.style.display="block";let t=moment(e.event.start).format("YYYY-MM-DD HH:mm:ss"),a=moment(e.event.end).format("YYYY-MM-DD HH:mm:ss");$(".modal").modal("show"),$(".modal").find("#id").val(e.event.id),$(".modal").find("#title").val(e.event.title),$(".modal").find("#starts-at").val(t),$(".modal").find("#ends-at").val(a),$("#categorySelect").val(e.event.classNames[0]),$(".modal").find("#eventDetails").val(e.event.extendedProps.description)}}),calendar.render()}function clearModalForm(){var e=document.querySelectorAll('input[type="text"]'),t=document.getElementsByTagName("textarea");for(i=0;i<e.length;i++)e[i].value="";for(j=0;j<t.length;j++)t[j].value="",i}function addEvetClick(){$("#add-event").on("click",(function(e){var t=$("#title").val(),a=document.getElementById("eventDetails").value,n=$("#categorySelect").find(":selected").val(),d=randomIDGenerate(10,"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ");calendar.addEvent({id:d,title:t,start:$("#starts-at").val(),end:$("#ends-at").val(),className:n,description:a}),$(".modal").find("input").val(""),$(".modal").modal("hide")}))}function editEvetClick(){$("#edit-event").off("click").on("click",(function(e){e.preventDefault();var t=$("#categorySelect").find(":selected").val(),a=calendar.getEventById(document.getElementById("id").value),n=document.getElementById("eventDetails").value;t=$("#categorySelect").find(":selected").val();a.setExtendedProp("id",document.getElementById("id").value+""),a.setProp("title",document.getElementById("title").value+""),a.setStart(moment(document.getElementById("starts-at").value).format("YYYY-MM-DD HH:mm:ss")),a.setEnd(moment(document.getElementById("ends-at").value).format("YYYY-MM-DD HH:mm:ss")),a.setProp("classNames",t),a.setExtendedProp("description",n),$(".modal").modal("hide")}))}function randomIDGenerate(e,t){for(var a="",n=e;n>0;--n)a+=t[Math.round(Math.random()*(t.length-1))];return a}function events(){return[{id:"event1",title:"All Day Event",start:new Date(year,month,1,0,0),end:new Date(year,month,1,23,59),className:"fc-event-success",description:"Her extensive perceived may any sincerity extremity. Indeed add rather may pretty see."},{id:"event2",title:"Break",start:new Date(year,month,day+28,16,0),end:new Date(year,month,day+29,20,0),allDay:!1,className:"fc-event-primary",description:"Her extensive perceived may any sincerity extremity. Indeed add rather may pretty see. "},{id:"event3",title:"Shopping",start:new Date(year,month,day+4,12,0),end:new Date(year,month,day+4,20,0),allDay:!1,className:"fc-event-warning",description:"Her extensive perceived may any sincerity extremity. Indeed add rather may pretty see. "},{id:"event4",title:"Meeting",start:new Date(year,month,day+14,10,30),end:new Date(year,month,day+16,20,0),allDay:!1,className:"fc-event-success",description:"Her extensive perceived may any sincerity extremity. Indeed add rather may pretty see."},{id:"event5",title:"Lunch",start:new Date(year,month,day,11,0),end:new Date(year,month,day,14,0),allDay:!1,className:"fc-event-primary",description:"Her extensive perceived may any sincerity extremity. Indeed add rather may pretty see."},{id:"event6",title:"Office Party",start:new Date(year,month,day+2,12,30),end:new Date(year,month,day+2,14,30),allDay:!1,className:"fc-event-success",description:"Her extensive perceived may any sincerity extremity. Indeed add rather may pretty see."},{id:"event7",title:"Birthday Party",start:new Date(year,month,day+17,19,0),end:new Date(year,month,day+17,19,30),allDay:!1,className:"fc-event-warning",description:"Her extensive perceived may any sincerity extremity. Indeed add rather may pretty see."},{id:"event8",title:"Go to Delhi",start:new Date(year,month,day+-5,10,0),end:new Date(year,month,day+-4,10,30),allDay:!1,className:"fc-event-danger",description:"Her extensive perceived may any sincerity extremity. Indeed add rather may pretty see."},{id:"event9",title:"Get To Gather",start:new Date(year,month,day+6,10,0),end:new Date(year,month,day+7,10,30),allDay:!1,className:"fc-event-info",description:"Her extensive perceived may any sincerity extremity. Indeed add rather may pretty see."},{id:"event10",title:"Collage Party",start:new Date(year,month,day+20,10,0),end:new Date(year,month,day+20,10,30),allDay:!1,className:"fc-event-info",description:"Her extensive perceived may any sincerity extremity. Indeed add rather may pretty see."}]}this.$eventModal=$("#event-modal"),new Draggable(containerEl,{itemSelector:".fc-event",eventData:function(e){return{title:e.innerText,stick:!0,className:e.dataset.class}}}),$(document).ready((function(){initCalendar(),addEvetClick(),editEvetClick(),flatpickr("#starts-at",{enableTime:!0,allowInput:!0,dateFormat:"Y-m-d H:i",onOpen:function(e,t,a){a.setDate(a.input.value,!1)}}),flatpickr("#ends-at",{enableTime:!0,allowInput:!0,dateFormat:"Y-m-d H:i",onOpen:function(e,t,a){a.setDate(a.input.value,!1)}})}));